<?php

class ST_acradb_generate_singleRecordBlock extends UnitTestCase {

    function test_acradb_generate_singleRecordBlock() {

        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2010-07-10";s:12:"Venue Region";s:183:"<postalAddress><street><item><line>76 Balreask Manor</line></item></street><town><item><data>Navan</data></item></town><county><item><data>Meath</data></item></county></postalAddress>";s:13:"Type of event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:8:"Budget :";s:3:"200";s:5:"Venue";s:5:"House";s:27:"Kind of Band or Act wanted:";s:20:"Small Acoustic Group";s:21:"Details of the Event:";s:4:"40th";s:22:"Styles of Music wanted";s:88:"<eventMusicStyle><basic><item><data>Folk/Ballads</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:19:"Get them up dancing";s:13:"Event number:";s:2:"48";s:12:"Date Posted:";s:19:"2010-06-04 20:09:03";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => false,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n10/07/2010\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n Navan,  Meath\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\n<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 200\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_type\">\n     <div id=\"label\" class=\"label\">Venue</div>\n     <div id=\"data\"  class=\"venueType\">\nHouse\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\nSmall Acoustic Group\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\n40th\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nFolk/Ballads\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_special_requests\">\n     <div id=\"label\" class=\"label\">Special Requests:</div>\n     <div id=\"data\"  class=\"text\">\nGet them up dancing\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n48\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n04/06/2010\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=48';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2010-03-16";s:12:"Venue Region";s:0:"";s:13:"Type of event";s:94:"<eventDescription><basic><item><data>Retirement Party</data></item></basic></eventDescription>";s:8:"Budget :";s:3:"100";s:5:"Venue";s:0:"";s:27:"Kind of Band or Act wanted:";s:0:"";s:21:"Details of the Event:";s:0:"";s:22:"Styles of Music wanted";s:0:"";s:17:"Special Requests:";s:0:"";s:13:"Event number:";s:2:"47";s:12:"Date Posted:";s:19:"2010-03-08 22:42:11";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => false,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n16/03/2010\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\n<eventDescription><basic><item><data>Retirement Party</data></item></basic></eventDescription>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 100\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n47\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n08/03/2010\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=47';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2009-11-18";s:12:"Venue Region";s:172:"<postalAddress><street><item><line>line 1</line></item></street><town><item><data>line 2</data></item></town><county><item><data>lin3</data></item></county></postalAddress>";s:13:"Type of event";s:96:"<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>";s:8:"Budget :";s:4:"1000";s:5:"Venue";s:6:" hotel";s:27:"Kind of Band or Act wanted:";s:23:"Anything you can get me";s:21:"Details of the Event:";s:18:"All sorts of stuff";s:22:"Styles of Music wanted";s:84:"<eventMusicStyle><basic><item><data>Rat Pack</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:19:"No special requests";s:13:"Event number:";s:2:"46";s:12:"Date Posted:";s:19:"2009-10-21 22:47:37";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => false,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n18/11/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n line 2,  lin3\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\n<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 1000\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_type\">\n     <div id=\"label\" class=\"label\">Venue</div>\n     <div id=\"data\"  class=\"venueType\">\n hotel\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\nAnything you can get me\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\nAll sorts of stuff\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nRat Pack\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_special_requests\">\n     <div id=\"label\" class=\"label\">Special Requests:</div>\n     <div id=\"data\"  class=\"text\">\nNo special requests\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n46\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n21/10/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=46';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"1969-12-31";s:12:"Venue Region";s:80:"<postalAddress><street><item><line>Dublin</line></item></street></postalAddress>";s:13:"Type of event";s:18:"Corporate Function";s:8:"Budget :";s:1:"1";s:5:"Venue";s:5:"Hotel";s:27:"Kind of Band or Act wanted:";s:91:"<eventActType><basic><item><data>Swing or Ratpack Band</data></item></basic></eventActType>";s:21:"Details of the Event:";s:114:"This company wants a band to play after (or during?) a CASINO NIGHT event as part of their Christmas celebrations.";s:22:"Styles of Music wanted";s:123:"<eventMusicStyle><basic><item><data>Rat Pack</data></item><item><data>Swing, Jazz, </data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:0:"";s:13:"Event number:";s:2:"44";s:12:"Date Posted:";s:19:"2009-09-23 15:10:47";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => false,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n31/12/1969\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\nCorporate Function\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 1\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_type\">\n     <div id=\"label\" class=\"label\">Venue</div>\n     <div id=\"data\"  class=\"venueType\">\nHotel\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\n<eventActType><basic><item><data>Swing or Ratpack Band</data></item></basic></eventActType>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\nThis company wants a band to play after (or during?) a CASINO NIGHT event as part of their Christmas celebrations.\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nRat Pack and Swing, Jazz, \n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n44\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n23/09/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=44';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2009-08-10";s:12:"Venue Region";s:127:"<postalAddress><town><item><data>Leixlip</data></item></town><county><item><data>Kildare</data></item></county></postalAddress>";s:13:"Type of event";s:17:"Wedding Reception";s:8:"Budget :";s:4:"2000";s:5:"Venue";s:0:"";s:27:"Kind of Band or Act wanted:";s:90:"<eventActType><basic><item><data>3-piece wedding band</data></item></basic></eventActType>";s:21:"Details of the Event:";s:98:"Mostly a young sophisticated crowd who would turn up their noses at anything "native" or "Irish". ";s:22:"Styles of Music wanted";s:170:"<eventMusicStyle><basic><item><data>Popular Charts</data></item><item><data>70s / 80s / 90s</data></item><item><data>Rock and Roll</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:0:"";s:13:"Event number:";s:2:"42";s:12:"Date Posted:";s:19:"2009-08-30 19:00:00";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => false,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n10/08/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n Leixlip,  Kildare\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\nWedding Reception\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 2000\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\n<eventActType><basic><item><data>3-piece wedding band</data></item></basic></eventActType>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\nMostly a young sophisticated crowd who would turn up their noses at anything \"native\" or \"Irish\". \n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nPopular Charts,70s / 80s / 90s and Rock and Roll\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n42\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n30/08/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=42';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"1969-12-31";s:12:"Venue Region";s:80:"<postalAddress><street><item><line>Dublin</line></item></street></postalAddress>";s:13:"Type of event";s:18:"Corporate Function";s:8:"Budget :";s:1:"1";s:5:"Venue";s:5:"Hotel";s:27:"Kind of Band or Act wanted:";s:91:"<eventActType><basic><item><data>Swing or Ratpack Band</data></item></basic></eventActType>";s:21:"Details of the Event:";s:114:"This company wants a band to play after (or during?) a CASINO NIGHT event as part of their Christmas celebrations.";s:22:"Styles of Music wanted";s:123:"<eventMusicStyle><basic><item><data>Rat Pack</data></item><item><data>Swing, Jazz, </data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:0:"";s:13:"Event number:";s:2:"44";s:12:"Date Posted:";s:19:"2009-09-23 15:10:47";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => true,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n31/12/1969\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\nCorporate Function\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 1\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_type\">\n     <div id=\"label\" class=\"label\">Venue</div>\n     <div id=\"data\"  class=\"venueType\">\nHotel\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\n<eventActType><basic><item><data>Swing or Ratpack Band</data></item></basic></eventActType>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\nThis company wants a band to play after (or during?) a CASINO NIGHT event as part of their Christmas celebrations.\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nRat Pack and Swing, Jazz, \n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_special_requests\">\n     <div id=\"label\" class=\"label\">Special Requests:</div>\n     <div id=\"data\"  class=\"text\">\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n44\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n23/09/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=44';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2009-08-10";s:12:"Venue Region";s:127:"<postalAddress><town><item><data>Leixlip</data></item></town><county><item><data>Kildare</data></item></county></postalAddress>";s:13:"Type of event";s:17:"Wedding Reception";s:8:"Budget :";s:4:"2000";s:5:"Venue";s:0:"";s:27:"Kind of Band or Act wanted:";s:90:"<eventActType><basic><item><data>3-piece wedding band</data></item></basic></eventActType>";s:21:"Details of the Event:";s:98:"Mostly a young sophisticated crowd who would turn up their noses at anything "native" or "Irish". ";s:22:"Styles of Music wanted";s:170:"<eventMusicStyle><basic><item><data>Popular Charts</data></item><item><data>70s / 80s / 90s</data></item><item><data>Rock and Roll</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:0:"";s:13:"Event number:";s:2:"42";s:12:"Date Posted:";s:19:"2009-08-30 19:00:00";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:12:{i:0;s:11:"events.date";i:1;s:20:"events.venue_address";i:2;s:18:"events.description";i:3;s:17:"events.act_budget";i:4;s:17:"events.venue_type";i:5;s:15:"events.act_type";i:6;s:14:"events.details";i:7;s:13:"events.styles";i:8;s:23:"events.special_requests";i:9;s:15:"events.event_id";i:10;s:15:"events.received";i:11;s:38:"events.acradb_button_Quoteforthisevent";}}' ,
        'currentView' => 'sequentialList',
        'showEmptyFields' => true,
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n10/08/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n Leixlip,  Kildare\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\nWedding Reception\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_budget\">\n     <div id=\"label\" class=\"label\">Budget :</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 2000\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_venue_type\">\n     <div id=\"label\" class=\"label\">Venue</div>\n     <div id=\"data\"  class=\"venueType\">\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_act_type\">\n     <div id=\"label\" class=\"label\">Kind of Band or Act wanted:</div>\n     <div id=\"data\"  class=\"text\">\n<eventActType><basic><item><data>3-piece wedding band</data></item></basic></eventActType>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_details\">\n     <div id=\"label\" class=\"label\">Details of the Event:</div>\n     <div id=\"data\"  class=\"text\">\nMostly a young sophisticated crowd who would turn up their noses at anything \"native\" or \"Irish\". \n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_styles\">\n     <div id=\"label\" class=\"label\">Styles of Music wanted</div>\n     <div id=\"data\"  class=\"eventMusicStyle\">\n			<div id=\"Styles_of_Music_wanted_display\" style=\"\">\nPopular Charts,70s / 80s / 90s and Rock and Roll\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_special_requests\">\n     <div id=\"label\" class=\"label\">Special Requests:</div>\n     <div id=\"data\"  class=\"text\">\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event number:</div>\n     <div id=\"data\"  class=\"int\">\n42\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_received\">\n     <div id=\"label\" class=\"label\">Date Posted:</div>\n     <div id=\"data\"  class=\"date\">\n30/08/2009\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_acradb_button_Quoteforthisevent\">\n     <div id=\"data\"  class=\"acradb_button\" onClick=\"location.href='quotefor.php?d[0][dh]=events&d[0][df]=Event number:&d[0][v]=42';\"  style='cursor:pointer' >\nQuote for this event\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );

$data[] = array(
'singleRecordDataArray' => 'a:7:{s:34:"__dataFromHigherUpInTheHierarchy__";a:1:{s:9:"q_user_id";s:2:"48";}s:10:"q_event_id";s:2:"21";s:11:"total quote";s:4:"1575";s:19:"Goodgigs Commission";s:2:"75";s:14:"Client Deposit";s:3:"200";s:9:"q_user_id";a:1:{i:0;a:1:{i:0;a:4:{s:17:"Date of the Event";s:10:"2011-08-12";s:24:"Description of the Event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"48";s:12:"Venue Region";s:0:"";}}}s:8:"band fee";d:1500;}' ,
'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:32:"eventsQuotedByAct_quotes_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:27:"Gigs per Act_quotes_primary";s:13:"recordCaption";s:45:"Act who quoted for listed gigs_quotes_primary";s:15:"primaryKeyField";a:9:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:9:"q_user_id";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:1:{i:0;a:4:{s:5:"table";s:6:"events";s:5:"field";s:8:"event_id";s:13:"localEditable";b:1;s:14:"remoteEditable";b:0;}}s:4:"type";s:7:"int(11)";s:10:"subDataset";a:1:{i:0;O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:31:"eventsQuotedByAct_quotes_events";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:26:"Gigs per Act_quotes_events";s:13:"recordCaption";s:44:"Act who quoted for listed gigs_quotes_events";s:15:"primaryKeyField";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:4:{s:11:"events.date";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";s:10:"valueFixed";b:1;}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:24:"Description of the Event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:10:"Event No.:";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:0:{}s:4:"type";s:7:"int(11)";}s:19:"events.venue_region";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:12:"venue_region";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:6:"region";}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";a:12:{i:0;a:4:{s:17:"Date of the Event";s:10:"1969-12-31";s:24:"Description of the Event";s:18:"Corporate Function";s:10:"Event No.:";s:2:"44";s:12:"Venue Region";s:0:"";}i:1;a:4:{s:17:"Date of the Event";s:10:"2009-05-03";s:24:"Description of the Event";s:11:"Pete Seeger";s:10:"Event No.:";s:2:"39";s:12:"Venue Region";s:6:"Dublin";}i:2;a:4:{s:17:"Date of the Event";s:10:"2009-05-14";s:24:"Description of the Event";s:17:"Wedding Reception";s:10:"Event No.:";s:2:"37";s:12:"Venue Region";s:6:"Dublin";}i:3;a:4:{s:17:"Date of the Event";s:10:"2009-08-10";s:24:"Description of the Event";s:17:"Wedding Reception";s:10:"Event No.:";s:2:"42";s:12:"Venue Region";s:0:"";}i:4;a:4:{s:17:"Date of the Event";s:10:"2009-09-16";s:24:"Description of the Event";s:96:"<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"41";s:12:"Venue Region";s:53:"<region><county><item>Dublin</item></county></region>";}i:5;a:4:{s:17:"Date of the Event";s:10:"2009-09-26";s:24:"Description of the Event";s:28:"Saturday night entertainment";s:10:"Event No.:";s:2:"43";s:12:"Venue Region";s:0:"";}i:6;a:4:{s:17:"Date of the Event";s:10:"2009-11-18";s:24:"Description of the Event";s:96:"<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"46";s:12:"Venue Region";s:0:"";}i:7;a:4:{s:17:"Date of the Event";s:10:"2010-03-16";s:24:"Description of the Event";s:94:"<eventDescription><basic><item><data>Retirement Party</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"47";s:12:"Venue Region";s:0:"";}i:8;a:4:{s:17:"Date of the Event";s:10:"2010-10-25";s:24:"Description of the Event";s:95:"<eventDescription><basic><item><data>Wedding Reception</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"45";s:12:"Venue Region";s:0:"";}i:9;a:4:{s:17:"Date of the Event";s:10:"2011-01-31";s:24:"Description of the Event";s:94:"<eventDescription><basic><item><data>Wedding Ceremony</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"49";s:12:"Venue Region";s:0:"";}i:10;a:4:{s:17:"Date of the Event";s:10:"2011-08-12";s:24:"Description of the Event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"48";s:12:"Venue Region";s:0:"";}i:11;a:4:{s:17:"Date of the Event";s:10:"2011-10-03";s:24:"Description of the Event";s:7:"Wedding";s:10:"Event No.:";s:2:"40";s:12:"Venue Region";s:6:"Dublin";}}s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";a:12:{i:0;a:4:{s:17:"Date of the Event";s:10:"1969-12-31";s:24:"Description of the Event";s:18:"Corporate Function";s:10:"Event No.:";s:2:"44";s:12:"Venue Region";s:0:"";}i:1;a:4:{s:17:"Date of the Event";s:10:"2009-05-03";s:24:"Description of the Event";s:11:"Pete Seeger";s:10:"Event No.:";s:2:"39";s:12:"Venue Region";s:6:"Dublin";}i:2;a:4:{s:17:"Date of the Event";s:10:"2009-05-14";s:24:"Description of the Event";s:17:"Wedding Reception";s:10:"Event No.:";s:2:"37";s:12:"Venue Region";s:6:"Dublin";}i:3;a:4:{s:17:"Date of the Event";s:10:"2009-08-10";s:24:"Description of the Event";s:17:"Wedding Reception";s:10:"Event No.:";s:2:"42";s:12:"Venue Region";s:0:"";}i:4;a:4:{s:17:"Date of the Event";s:10:"2009-09-16";s:24:"Description of the Event";s:96:"<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"41";s:12:"Venue Region";s:53:"<region><county><item>Dublin</item></county></region>";}i:5;a:4:{s:17:"Date of the Event";s:10:"2009-09-26";s:24:"Description of the Event";s:28:"Saturday night entertainment";s:10:"Event No.:";s:2:"43";s:12:"Venue Region";s:0:"";}i:6;a:4:{s:17:"Date of the Event";s:10:"2009-11-18";s:24:"Description of the Event";s:96:"<eventDescription><basic><item><data>Corporate Function</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"46";s:12:"Venue Region";s:0:"";}i:7;a:4:{s:17:"Date of the Event";s:10:"2010-03-16";s:24:"Description of the Event";s:94:"<eventDescription><basic><item><data>Retirement Party</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"47";s:12:"Venue Region";s:0:"";}i:8;a:4:{s:17:"Date of the Event";s:10:"2010-10-25";s:24:"Description of the Event";s:95:"<eventDescription><basic><item><data>Wedding Reception</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"45";s:12:"Venue Region";s:0:"";}i:9;a:4:{s:17:"Date of the Event";s:10:"2011-01-31";s:24:"Description of the Event";s:94:"<eventDescription><basic><item><data>Wedding Ceremony</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"49";s:12:"Venue Region";s:0:"";}i:10;a:4:{s:17:"Date of the Event";s:10:"2011-08-12";s:24:"Description of the Event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:10:"Event No.:";s:2:"48";s:12:"Venue Region";s:0:"";}i:11;a:4:{s:17:"Date of the Event";s:10:"2011-10-03";s:24:"Description of the Event";s:7:"Wedding";s:10:"Event No.:";s:2:"40";s:12:"Venue Region";s:6:"Dublin";}}s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:20:{s:8:"Act Name";s:13:"acts.act_name";s:12:"Date Entered";s:15:"acts.registered";s:8:"locality";s:11:"acts.region";s:15:"Styles of Music";s:11:"acts.styles";s:5:"Photo";s:10:"acts.photo";s:12:"Sample music";s:8:"acts.mp3";s:11:"Description";s:20:"acts.act_description";s:8:"Set List";s:13:"acts.set_list";s:11:"Price Range";s:15:"acts.priceRange";s:24:"Quotes made for this act";s:11:"acts.act_id";s:9:"q_user_id";s:15:"quotes.event_id";s:10:"q_event_id";s:13:"quotes.act_id";s:11:"total quote";s:12:"quotes.quote";s:19:"Goodgigs Commission";s:17:"quotes.commission";s:14:"Client Deposit";s:14:"quotes.deposit";s:17:"Date of the Event";s:11:"events.date";s:24:"Description of the Event";s:18:"events.description";s:10:"Event No.:";s:15:"events.event_id";s:12:"Venue Region";s:19:"events.venue_region";s:25:"acradb_button_EditthisAct";s:30:"acts.acradb_button_EditthisAct";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";s:208:"SELECT
 events.date AS "Date of the Event",
 events.description AS "Description of the Event",
 events.event_id AS "Event No.:",
 events.venue_region AS "Venue Region"
FROM  events  ORDER BY events.date ";s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:39:"eventsQuotedByAct_quotes_events_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:34:"Gigs per Act_quotes_events_primary";s:13:"recordCaption";s:52:"Act who quoted for listed gigs_quotes_events_primary";s:15:"primaryKeyField";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:4:{s:11:"events.date";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"isVisible";b:1;s:4:"type";s:4:"date";s:10:"valueFixed";b:1;}s:18:"events.description";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:12:"labelVisible";b:1;s:5:"label";s:24:"Description of the Event";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:15:"events.event_id";a:7:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:10:"Event No.:";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:0:{}s:4:"type";s:7:"int(11)";}s:19:"events.venue_region";a:6:{s:9:"tablename";s:6:"events";s:9:"fieldname";s:12:"venue_region";s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"isVisible";b:1;s:4:"type";s:6:"region";}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:20:{s:8:"Act Name";s:13:"acts.act_name";s:12:"Date Entered";s:15:"acts.registered";s:8:"locality";s:11:"acts.region";s:15:"Styles of Music";s:11:"acts.styles";s:5:"Photo";s:10:"acts.photo";s:12:"Sample music";s:8:"acts.mp3";s:11:"Description";s:20:"acts.act_description";s:8:"Set List";s:13:"acts.set_list";s:11:"Price Range";s:15:"acts.priceRange";s:24:"Quotes made for this act";s:11:"acts.act_id";s:9:"q_user_id";s:15:"quotes.event_id";s:10:"q_event_id";s:13:"quotes.act_id";s:11:"total quote";s:12:"quotes.quote";s:19:"Goodgigs Commission";s:17:"quotes.commission";s:14:"Client Deposit";s:14:"quotes.deposit";s:17:"Date of the Event";s:11:"events.date";s:24:"Description of the Event";s:18:"events.description";s:10:"Event No.:";s:15:"events.event_id";s:12:"Venue Region";s:19:"events.venue_region";s:25:"acradb_button_EditthisAct";s:30:"acts.acradb_button_EditthisAct";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:21:{i:0;s:13:"acts.act_name";i:1;s:15:"acts.registered";i:2;s:11:"acts.region";i:3;s:11:"acts.styles";i:4;s:10:"acts.photo";i:5;s:8:"acts.mp3";i:6;s:20:"acts.act_description";i:7;s:13:"acts.set_list";i:8;s:15:"acts.priceRange";i:9;s:11:"acts.act_id";i:10;s:15:"quotes.event_id";i:11;s:13:"quotes.act_id";i:12;s:12:"quotes.quote";i:13;s:32:"calc_quotes.quotecommission_calc";i:14;s:17:"quotes.commission";i:15;s:14:"quotes.deposit";i:16;s:11:"events.date";i:17;s:18:"events.description";i:18;s:15:"events.event_id";i:19;s:19:"events.venue_region";i:20;s:30:"acts.acradb_button_EditthisAct";}}s:20:"CSS_totalFieldHeight";a:2:{s:7:"seqList";i:0;s:8:"editForm";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:21:{i:0;s:13:"acts.act_name";i:1;s:15:"acts.registered";i:2;s:11:"acts.region";i:3;s:11:"acts.styles";i:4;s:10:"acts.photo";i:5;s:8:"acts.mp3";i:6;s:20:"acts.act_description";i:7;s:13:"acts.set_list";i:8;s:15:"acts.priceRange";i:9;s:11:"acts.act_id";i:10;s:15:"quotes.event_id";i:11;s:13:"quotes.act_id";i:12;s:12:"quotes.quote";i:13;s:32:"calc_quotes.quotecommission_calc";i:14;s:17:"quotes.commission";i:15;s:14:"quotes.deposit";i:16;s:11:"events.date";i:17;s:18:"events.description";i:18;s:15:"events.event_id";i:19;s:19:"events.venue_region";i:20;s:30:"acts.acradb_button_EditthisAct";}}}s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:5:{s:15:"quotes.event_id";a:9:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:9:"q_user_id";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:1:{i:0;a:4:{s:5:"table";s:6:"events";s:5:"field";s:8:"event_id";s:13:"localEditable";b:1;s:14:"remoteEditable";b:0;}}s:4:"type";s:7:"int(11)";s:10:"subDataset";a:2:{i:0;r:21;i:1;O:34:"acradb_tableRelationshipDefinition":42:{s:13:"datasetHandle";s:31:"eventsQuotedByAct_quotes_events";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:26:"Gigs per Act_quotes_events";s:13:"recordCaption";s:44:"Act who quoted for listed gigs_quotes_events";s:15:"primaryKeyField";N;s:15:"fieldDefinition";N;s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:21:"calculatedFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:20:{s:8:"Act Name";s:13:"acts.act_name";s:12:"Date Entered";s:15:"acts.registered";s:8:"locality";s:11:"acts.region";s:15:"Styles of Music";s:11:"acts.styles";s:5:"Photo";s:10:"acts.photo";s:12:"Sample music";s:8:"acts.mp3";s:11:"Description";s:20:"acts.act_description";s:8:"Set List";s:13:"acts.set_list";s:11:"Price Range";s:15:"acts.priceRange";s:24:"Quotes made for this act";s:11:"acts.act_id";s:9:"q_user_id";s:15:"quotes.event_id";s:10:"q_event_id";s:13:"quotes.act_id";s:11:"total quote";s:12:"quotes.quote";s:19:"Goodgigs Commission";s:17:"quotes.commission";s:14:"Client Deposit";s:14:"quotes.deposit";s:17:"Date of the Event";s:11:"events.date";s:24:"Description of the Event";s:18:"events.description";s:10:"Event No.:";s:15:"events.event_id";s:12:"Venue Region";s:19:"events.venue_region";s:25:"acradb_button_EditthisAct";s:30:"acts.acradb_button_EditthisAct";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:7:"seqList";i:0;s:8:"editForm";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:21:{i:0;s:13:"acts.act_name";i:1;s:15:"acts.registered";i:2;s:11:"acts.region";i:3;s:11:"acts.styles";i:4;s:10:"acts.photo";i:5;s:8:"acts.mp3";i:6;s:20:"acts.act_description";i:7;s:13:"acts.set_list";i:8;s:15:"acts.priceRange";i:9;s:11:"acts.act_id";i:10;s:15:"quotes.event_id";i:11;s:13:"quotes.act_id";i:12;s:12:"quotes.quote";i:13;s:32:"calc_quotes.quotecommission_calc";i:14;s:17:"quotes.commission";i:15;s:14:"quotes.deposit";i:16;s:11:"events.date";i:17;s:18:"events.description";i:18;s:15:"events.event_id";i:19;s:19:"events.venue_region";i:20;s:30:"acts.acradb_button_EditthisAct";}}}s:10:"valueFixed";b:1;}s:13:"quotes.act_id";a:7:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:6:"act_id";s:12:"labelVisible";b:1;s:5:"label";s:10:"q_event_id";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:0:{}s:4:"type";s:7:"int(11)";}s:12:"quotes.quote";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:5:"quote";s:12:"labelVisible";b:1;s:5:"label";s:11:"total quote";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"quotes.commission";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:10:"commission";s:12:"labelVisible";b:1;s:5:"label";s:19:"Goodgigs Commission";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:14:"quotes.deposit";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:7:"deposit";s:12:"labelVisible";b:1;s:5:"label";s:14:"Client Deposit";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:1:{s:8:"band fee";a:9:{s:7:"content";a:3:{i:0;a:1:{s:5:"field";s:12:"quotes.quote";}i:1;a:1:{s:8:"operator";s:1:"-";}i:2;a:1:{s:5:"field";s:17:"quotes.commission";}}s:10:"tablenames";a:1:{i:0;s:6:"quotes";}s:10:"fieldnames";a:2:{i:0;s:5:"quote";i:1;s:10:"commission";}s:17:"nominal_tablename";s:11:"calc_quotes";s:17:"nominal_fieldname";s:20:"quotecommission_calc";s:9:"isVisible";b:1;s:12:"labelVisible";b:1;s:9:"precision";i:2;s:4:"type";s:4:"text";}}s:21:"calculatedFieldLabels";a:1:{i:0;s:8:"band fee";}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:20:{s:8:"Act Name";s:13:"acts.act_name";s:12:"Date Entered";s:15:"acts.registered";s:8:"locality";s:11:"acts.region";s:15:"Styles of Music";s:11:"acts.styles";s:5:"Photo";s:10:"acts.photo";s:12:"Sample music";s:8:"acts.mp3";s:11:"Description";s:20:"acts.act_description";s:8:"Set List";s:13:"acts.set_list";s:11:"Price Range";s:15:"acts.priceRange";s:24:"Quotes made for this act";s:11:"acts.act_id";s:9:"q_user_id";s:15:"quotes.event_id";s:10:"q_event_id";s:13:"quotes.act_id";s:11:"total quote";s:12:"quotes.quote";s:19:"Goodgigs Commission";s:17:"quotes.commission";s:14:"Client Deposit";s:14:"quotes.deposit";s:17:"Date of the Event";s:11:"events.date";s:24:"Description of the Event";s:18:"events.description";s:10:"Event No.:";s:15:"events.event_id";s:12:"Venue Region";s:19:"events.venue_region";s:25:"acradb_button_EditthisAct";s:30:"acts.acradb_button_EditthisAct";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}s:13:"display_order";a:21:{i:0;s:13:"acts.act_name";i:1;s:15:"acts.registered";i:2;s:11:"acts.region";i:3;s:11:"acts.styles";i:4;s:10:"acts.photo";i:5;s:8:"acts.mp3";i:6;s:20:"acts.act_description";i:7;s:13:"acts.set_list";i:8;s:15:"acts.priceRange";i:9;s:11:"acts.act_id";i:10;s:15:"quotes.event_id";i:11;s:13:"quotes.act_id";i:12;s:12:"quotes.quote";i:13;s:32:"calc_quotes.quotecommission_calc";i:14;s:17:"quotes.commission";i:15;s:14:"quotes.deposit";i:16;s:11:"events.date";i:17;s:18:"events.description";i:18;s:15:"events.event_id";i:19;s:19:"events.venue_region";i:20;s:30:"acts.acradb_button_EditthisAct";}}' ,
'currentView' => 'sequentialList' ,
'showEmptyFields' => 'b:0;' ,
'expected' => "    <div id=\"quotes_event_id\">\n       <div id=\"label\" class=\"label\">q_user_id : </div>\n       <div id=\"data\" class=\"data\">\n<div id=\"dataset_eventsQuotedByAct_quotes_events_primary\" class=\"acradb_reportHolder\">\n  <div id=\"record_eventsQuotedByAct_quotes_events_primary_2011-08-12\" class=\"acradb_recordHolder\" >\n  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n12/08/2011\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Description of the Event</div>\n     <div id=\"data\"  class=\"varchar\">\n<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"events_event_id\">\n     <div id=\"label\" class=\"label\">Event No.:</div>\n     <div id=\"data\"  class=\"int\">\n48\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n\n\n   </div>\n\n<div style='clear:both;' class='clear'></div>\n\n</div>\n       </div>\n    </div>\n  <div id=\"quotes_act_id\">\n     <div id=\"label\" class=\"label\">q_event_id</div>\n     <div id=\"data\"  class=\"int\">\n21\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"quotes_quote\">\n     <div id=\"label\" class=\"label\">total quote</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 1575\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"calc_quotes_quotecommission_calc\">\n     <div id=\"label\" class=\"label\">band fee</div>\n     <div id=\"data\"  class=\"text\">\n1500\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"quotes_commission\">\n     <div id=\"label\" class=\"label\">Goodgigs Commission</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 75\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"quotes_deposit\">\n     <div id=\"label\" class=\"label\">Client Deposit</div>\n     <div id=\"data\"  class=\"currency_euro\">\n&euro; 200\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
);
        for ( $index = 0; $index < sizeof($data); $index = $index + 1) { //p("index:",$index, "datasetDefinition",unserialize($data[$index]['datasetDefinition']));
            $result = acradb_generate_singleRecordBlock(
                unserialize($data[$index]['singleRecordDataArray']),
                unserialize($data[$index]['datasetDefinition']), //magic_quotes makes this fail - it's on on the bandchoice server.
                $data[$index]['currentView'],
                $data[$index]['showEmptyFields']);
            if($result !== $data[$index]['expected']) {
                echo "<h2 class='test-fail'>".__FUNCTION__."[".$index."]"."</h2>";
                acradisp_compare($result,$data[$index]['expected']);
                p(str_replace("\n","\\n",str_replace('"','\"',$result)));
            }
            $this->assertEqual($result,$data[$index]['expected']);
        }
    }

    function test_acradb_displayFieldData() {
        $data[] = array(
        'currentFieldValue' => '2010-07-10',
        'currentFieldDefinition' => 'a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}',
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2010-07-10";s:12:"Venue Region";s:183:"<postalAddress><street><item><line>76 Balreask Manor</line></item></street><town><item><data>Navan</data></item></town><county><item><data>Meath</data></item></county></postalAddress>";s:13:"Type of event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:8:"Budget :";s:3:"200";s:5:"Venue";s:5:"House";s:27:"Kind of Band or Act wanted:";s:20:"Small Acoustic Group";s:21:"Details of the Event:";s:4:"40th";s:22:"Styles of Music wanted";s:88:"<eventMusicStyle><basic><item><data>Folk/Ballads</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:19:"Get them up dancing";s:13:"Event number:";s:2:"48";s:12:"Date Posted:";s:19:"2010-06-04 20:09:03";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":39:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}}',
        'currentView' => 'sequentialList',
        'expected' => "  <div id=\"events_date\">\n     <div id=\"label\" class=\"label\">Date of the Event</div>\n     <div id=\"data\"  class=\"date\">\n10/07/2010\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'currentFieldValue' => '<postalAddress><street><item><line>76 Balreask Manor</line></item></street><town><item><data>Navan</data></item></town><county><item><data>Meath</data></item></county></postalAddress>',
        'currentFieldDefinition' => 'a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}',
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2010-07-10";s:12:"Venue Region";s:183:"<postalAddress><street><item><line>76 Balreask Manor</line></item></street><town><item><data>Navan</data></item></town><county><item><data>Meath</data></item></county></postalAddress>";s:13:"Type of event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:8:"Budget :";s:3:"200";s:5:"Venue";s:5:"House";s:27:"Kind of Band or Act wanted:";s:20:"Small Acoustic Group";s:21:"Details of the Event:";s:4:"40th";s:22:"Styles of Music wanted";s:88:"<eventMusicStyle><basic><item><data>Folk/Ballads</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:19:"Get them up dancing";s:13:"Event number:";s:2:"48";s:12:"Date Posted:";s:19:"2010-06-04 20:09:03";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":39:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}}',
        'currentView' => 'sequentialList',
        'expected' => "  <div id=\"events_venue_address\">\n     <div id=\"label\" class=\"label\">Venue Region</div>\n     <div id=\"data\"  class=\"postalAddressRegion\">\n			<div id=\"Venue_Region_display\" style=\"\">\n Navan,  Meath\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        $data[] = array(
        'currentFieldValue' => '<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>',
        'currentFieldDefinition' => 'a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}',
        'singleRecordDataArray' => 'a:12:{s:17:"Date of the Event";s:10:"2010-07-10";s:12:"Venue Region";s:183:"<postalAddress><street><item><line>76 Balreask Manor</line></item></street><town><item><data>Navan</data></item></town><county><item><data>Meath</data></item></county></postalAddress>";s:13:"Type of event";s:92:"<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>";s:8:"Budget :";s:3:"200";s:5:"Venue";s:5:"House";s:27:"Kind of Band or Act wanted:";s:20:"Small Acoustic Group";s:21:"Details of the Event:";s:4:"40th";s:22:"Styles of Music wanted";s:88:"<eventMusicStyle><basic><item><data>Folk/Ballads</data></item></basic></eventMusicStyle>";s:17:"Special Requests:";s:19:"Get them up dancing";s:13:"Event number:";s:2:"48";s:12:"Date Posted:";s:19:"2010-06-04 20:09:03";s:31:"acradb_button_Quoteforthisevent";s:20:"Quote for this event";}',
        'datasetDefinition' => 'O:34:"acradb_tableRelationshipDefinition":39:{s:13:"datasetHandle";s:17:"event_ads_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:22:"Available gigs_primary";s:13:"recordCaption";s:11:"Gig_primary";s:15:"primaryKeyField";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:11:"events.date";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Date of the Event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:4:"date";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:20:"events.venue_address";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Venue Region";s:9:"tablename";s:6:"events";s:9:"fieldname";s:13:"venue_address";s:9:"isVisible";b:1;s:4:"type";s:19:"postalAddressRegion";}s:18:"events.description";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Type of event";s:9:"tablename";s:6:"events";s:9:"fieldname";s:11:"description";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:17:"events.act_budget";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:8:"Budget :";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"act_budget";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:17:"events.venue_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:5:"Venue";s:9:"tablename";s:6:"events";s:9:"fieldname";s:10:"venue_type";s:9:"isVisible";b:1;s:4:"type";s:9:"venueType";}s:15:"events.act_type";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:27:"Kind of Band or Act wanted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"act_type";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:14:"events.details";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:21:"Details of the Event:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:7:"details";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:13:"events.styles";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:22:"Styles of Music wanted";s:9:"tablename";s:6:"events";s:9:"fieldname";s:6:"styles";s:9:"isVisible";b:1;s:4:"type";s:15:"eventMusicStyle";}s:23:"events.special_requests";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:17:"Special Requests:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:16:"special_requests";s:9:"isVisible";b:1;s:4:"type";s:4:"text";}s:15:"events.event_id";a:7:{s:12:"labelVisible";b:1;s:5:"label";s:13:"Event number:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"event_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"events.received";a:6:{s:12:"labelVisible";b:1;s:5:"label";s:12:"Date Posted:";s:9:"tablename";s:6:"events";s:9:"fieldname";s:8:"received";s:9:"isVisible";b:1;s:4:"type";s:4:"date";}s:38:"events.acradb_button_Quoteforthisevent";a:11:{s:12:"labelVisible";b:0;s:5:"label";s:31:"acradb_button_Quoteforthisevent";s:9:"tablename";s:6:"events";s:9:"fieldname";s:31:"acradb_button_Quoteforthisevent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"Quote for this event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'quotefor.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:13:"Event number:";s:21:"valueSourceFieldLabel";s:13:"Event number:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";i:11;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";i:11;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:17:"Date of the Event";s:11:"events.date";s:12:"Venue Region";s:20:"events.venue_address";s:13:"Type of event";s:18:"events.description";s:8:"Budget :";s:17:"events.act_budget";s:5:"Venue";s:17:"events.venue_type";s:27:"Kind of Band or Act wanted:";s:15:"events.act_type";s:21:"Details of the Event:";s:14:"events.details";s:22:"Styles of Music wanted";s:13:"events.styles";s:17:"Special Requests:";s:23:"events.special_requests";s:13:"Event number:";s:15:"events.event_id";s:12:"Date Posted:";s:15:"events.received";s:31:"acradb_button_Quoteforthisevent";s:38:"events.acradb_button_Quoteforthisevent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}}',
        'currentView' => 'sequentialList',
        'expected' => "  <div id=\"events_description\">\n     <div id=\"label\" class=\"label\">Type of event</div>\n     <div id=\"data\"  class=\"varchar\">\n<eventDescription><basic><item><data>Birthday Party</data></item></basic></eventDescription>\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n"
        );
        for ( $index = 0; $index < sizeof($data); $index = $index + 1) { //p("index:",$index);
            $result = acradb_displayFieldData(
                $data[$index]['currentFieldValue'],
                unserialize($data[$index]['currentFieldDefinition']),
                unserialize($data[$index]['singleRecordDataArray']),
                unserialize($data[$index]['datasetDefinition']),
                $data[$index]['currentView']);
            if($result !== $data[$index]['expected']) {
               echo "<h2 class='test-fail'>".__FUNCTION__."[".$index."]"."</h2>";
               acradisp_compare($result,$data[$index]['expected']);
               p(str_replace("\n","\\n",str_replace('"','\"',$result)));
           }
           $this->assertEqual($result,$data[$index]['expected']);
        }
    }


    function test_acra_db_tr_conditionalFormattingClassname() {
        $data[] = array(
        'datasetDefinitionHierarchicalView' => 'O:34:"acradb_tableRelationshipDefinition":40:{s:13:"datasetHandle";s:13:"users_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:24:"Registered Users_primary";s:13:"recordCaption";s:23:"Registered User_primary";s:15:"primaryKeyField";a:7:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:13:"primary_email";s:12:"labelVisible";b:1;s:5:"label";s:19:"Login Email Address";s:9:"isVisible";b:1;s:21:"formValidationClasses";s:14:"required email";s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:12:{s:13:"users.user_id";a:7:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:7:"user_id";s:12:"labelVisible";b:0;s:5:"label";s:7:"user_id";s:9:"isVisible";b:1;s:10:"valueFixed";b:1;s:4:"type";s:7:"int(11)";}s:15:"users.user_type";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:9:"user_type";s:12:"labelVisible";b:1;s:5:"label";s:12:"Type of user";s:9:"isVisible";b:1;s:4:"type";s:35:"enum(\'eventOrganiser\',\'actContact\')";}s:10:"users.name";a:7:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:4:"name";s:12:"labelVisible";b:1;s:5:"label";s:9:"Full Name";s:9:"isVisible";b:1;s:21:"formValidationClasses";s:8:"required";s:4:"type";s:12:"varchar(255)";}s:13:"users.company";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:7:"company";s:12:"labelVisible";b:1;s:5:"label";s:23:"Company (if applicable)";s:9:"isVisible";b:1;s:4:"type";s:12:"varchar(255)";}s:20:"users.postal_address";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:14:"postal_address";s:12:"labelVisible";b:1;s:5:"label";s:14:"Postal Address";s:9:"isVisible";b:1;s:4:"type";s:13:"postalAddress";}s:11:"users.phone";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:5:"phone";s:12:"labelVisible";b:1;s:5:"label";s:13:"Phone numbers";s:9:"isVisible";b:1;s:4:"type";s:10:"stringList";}s:19:"users.primary_email";a:8:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:13:"primary_email";s:12:"labelVisible";b:1;s:5:"label";s:19:"Login Email Address";s:9:"isVisible";b:1;s:21:"formValidationClasses";s:14:"required email";s:10:"valueFixed";b:1;s:4:"type";s:12:"varchar(255)";}s:22:"users.additional_email";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:16:"additional_email";s:12:"labelVisible";b:1;s:5:"label";s:26:"Additional Email addresses";s:9:"isVisible";b:1;s:4:"type";s:10:"stringList";}s:17:"users.mailinglist";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:11:"mailinglist";s:12:"labelVisible";b:1;s:5:"label";s:22:"Opt in to mailing list";s:9:"isVisible";b:1;s:4:"type";s:7:"boolean";}s:14:"users.password";a:6:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:8:"password";s:12:"labelVisible";b:1;s:5:"label";s:8:"Password";s:9:"isVisible";b:0;s:4:"type";s:8:"password";}s:35:"users.acradb_button_Edityourprofile";a:11:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:29:"acradb_button_Edityourprofile";s:12:"labelVisible";b:0;s:5:"label";s:29:"acradb_button_Edityourprofile";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:17:"Edit your profile";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:23:"location.href=\'edit.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:5:"users";s:21:"destinationFieldLabel";s:19:"Login Email Address";s:21:"valueSourceFieldLabel";s:19:"Login Email Address";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}s:30:"users.acradb_button_AddanEvent";a:11:{s:9:"tablename";s:5:"users";s:9:"fieldname";s:24:"acradb_button_AddanEvent";s:12:"labelVisible";b:0;s:5:"label";s:24:"acradb_button_AddanEvent";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:12:"Add an Event";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:27:"location.href=\'addEvent.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:5:"users";s:21:"destinationFieldLabel";s:19:"Login Email Address";s:21:"valueSourceFieldLabel";s:19:"Login Email Address";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:12:{s:7:"user_id";s:13:"users.user_id";s:12:"Type of user";s:15:"users.user_type";s:9:"Full Name";s:10:"users.name";s:23:"Company (if applicable)";s:13:"users.company";s:14:"Postal Address";s:20:"users.postal_address";s:13:"Phone numbers";s:11:"users.phone";s:19:"Login Email Address";s:19:"users.primary_email";s:26:"Additional Email addresses";s:22:"users.additional_email";s:22:"Opt in to mailing list";s:17:"users.mailinglist";s:8:"Password";s:14:"users.password";s:29:"acradb_button_Edityourprofile";s:35:"users.acradb_button_Edityourprofile";s:24:"acradb_button_AddanEvent";s:30:"users.acradb_button_AddanEvent";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:0:{}s:17:"fullRecordActions";a:0:{}}' ,
        'current_entry' => 'a:12:{s:7:"user_id";s:2:"58";s:12:"Type of user";s:14:"eventOrganiser";s:9:"Full Name";s:17:"Client Clientsson";s:23:"Company (if applicable)";s:15:"Client Services";s:14:"Postal Address";s:146:"<postalAddress><street><item><line>c</line></item><item><line>c</line></item></street><county><item><data>c</data></item></county></postalAddress>";s:13:"Phone numbers";s:0:"";s:19:"Login Email Address";s:17:"client@client.com";s:26:"Additional Email addresses";s:0:"";s:22:"Opt in to mailing list";s:1:"0";s:8:"Password";s:32:"e29a48202d59480a27cc349db001dc29";s:29:"acradb_button_Edityourprofile";s:17:"Edit your profile";s:24:"acradb_button_AddanEvent";s:12:"Add an Event";}' ,
        'expected' => ''
        );
        $data[] = array(
        'datasetDefinitionHierarchicalView' => 'O:34:"acradb_tableRelationshipDefinition":40:{s:13:"datasetHandle";s:28:"quoteForEvent_quotes_primary";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:20:"Event_quotes_primary";s:13:"recordCaption";s:20:"Event_quotes_primary";s:15:"primaryKeyField";a:7:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"quote_id";s:12:"labelVisible";b:0;s:5:"label";s:8:"quote_id";s:9:"isVisible";b:1;s:4:"type";s:10:"tinyint(4)";s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:8:{s:15:"quotes.quote_id";a:7:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"quote_id";s:12:"labelVisible";b:0;s:5:"label";s:8:"quote_id";s:9:"isVisible";b:1;s:4:"type";s:10:"tinyint(4)";s:10:"valueFixed";b:1;}s:15:"quotes.received";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"received";s:12:"labelVisible";b:1;s:5:"label";s:18:"Date Quote Entered";s:9:"isVisible";b:0;s:4:"type";s:9:"timestamp";}s:15:"quotes.event_id";a:7:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:8:"event_id";s:12:"labelVisible";b:1;s:5:"label";s:33:"Event for which the quote is made";s:9:"isVisible";b:0;s:13:"anchoredJoins";a:0:{}s:4:"type";s:7:"int(11)";}s:13:"quotes.act_id";a:8:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:6:"act_id";s:12:"labelVisible";b:1;s:5:"label";s:20:"Act making the Quote";s:9:"isVisible";b:0;s:13:"anchoredJoins";a:1:{i:0;a:4:{s:5:"table";s:4:"acts";s:5:"field";s:6:"act_id";s:13:"localEditable";b:1;s:14:"remoteEditable";b:0;}}s:4:"type";s:7:"int(11)";s:10:"subDataset";a:2:{i:0;O:34:"acradb_tableRelationshipDefinition":40:{s:13:"datasetHandle";s:25:"quoteForEvent_quotes_acts";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:17:"Event_quotes_acts";s:13:"recordCaption";s:17:"Event_quotes_acts";s:15:"primaryKeyField";a:10:{s:9:"tablename";s:4:"acts";s:9:"fieldname";s:6:"act_id";s:12:"labelVisible";b:1;s:5:"label";s:8:"Band No.";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:0:{}s:6:"action";a:3:{s:10:"actionType";s:7:"onclick";s:10:"javascript";s:28:"location.href=\'singleAct.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:7:"actList";s:21:"destinationFieldLabel";s:6:"act_id";s:21:"valueSourceFieldLabel";s:20:"Act making the Quote";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}s:4:"type";s:7:"int(11)";s:10:"valueFixed";b:1;}s:15:"fieldDefinition";a:2:{s:11:"acts.act_id";a:10:{s:9:"tablename";s:4:"acts";s:9:"fieldname";s:6:"act_id";s:12:"labelVisible";b:1;s:5:"label";s:8:"Band No.";s:9:"isVisible";b:1;s:13:"anchoredJoins";a:0:{}s:6:"action";a:3:{s:10:"actionType";s:7:"onclick";s:10:"javascript";s:28:"location.href=\'singleAct.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:7:"actList";s:21:"destinationFieldLabel";s:6:"act_id";s:21:"valueSourceFieldLabel";s:20:"Act making the Quote";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}s:4:"type";s:7:"int(11)";s:10:"valueFixed";b:1;}s:11:"acts.region";a:6:{s:9:"tablename";s:4:"acts";s:9:"fieldname";s:6:"region";s:12:"labelVisible";b:1;s:5:"label";s:8:"locality";s:9:"isVisible";b:0;s:4:"type";s:6:"region";}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:23:{s:22:"Quotes for this event:";s:15:"events.event_id";s:10:"Event Date";s:11:"events.date";s:10:"Event Type";s:18:"events.description";s:22:"Details of the event :";s:14:"events.details";s:30:"Time and Duration of the Event";s:11:"events.time";s:5:"Venue";s:17:"events.venue_name";s:13:"Venue Address";s:20:"events.venue_address";s:20:"Type of Act required";s:15:"events.act_type";s:25:"Styles of Music preferred";s:13:"events.styles";s:16:"Special Requests";s:23:"events.special_requests";s:16:"Preferred Budget";s:17:"events.act_budget";s:8:"quote_id";s:15:"quotes.quote_id";s:18:"Date Quote Entered";s:15:"quotes.received";s:33:"Event for which the quote is made";s:15:"quotes.event_id";s:20:"Act making the Quote";s:13:"quotes.act_id";s:11:"Quote value";s:12:"quotes.quote";s:7:"Deposit";s:14:"quotes.deposit";s:8:"Band No.";s:11:"acts.act_id";s:8:"locality";s:11:"acts.region";s:14:"Accepted Quote";s:21:"events.accepted_quote";s:27:"acradb_button_EditthisEvent";s:34:"events.acradb_button_EditthisEvent";s:29:"acradb_button_Acceptthisquote";s:36:"quotes.acradb_button_Acceptthisquote";s:32:"acradb_button_De-selectthisquote";s:39:"quotes.acradb_button_De-selectthisquote";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:7:"seqList";i:0;s:8:"editForm";i:0;}s:16:"formatConditions";a:1:{s:6:"quotes";a:1:{i:0;a:5:{s:10:"field_left";s:14:"Accepted Quote";s:10:"expression";s:2:"==";s:11:"field_right";s:8:"quote_id";s:16:"onpass_classname";s:8:"selected";s:16:"onfail_classname";s:10:"unselected";}}}s:17:"fullRecordActions";a:0:{}}i:1;O:34:"acradb_tableRelationshipDefinition":40:{s:13:"datasetHandle";s:25:"quoteForEvent_quotes_acts";s:11:"description";s:0:"";s:8:"database";s:19:"eofeasa_autocontact";s:14:"datasetCaption";s:17:"Event_quotes_acts";s:13:"recordCaption";s:17:"Event_quotes_acts";s:15:"primaryKeyField";N;s:15:"fieldDefinition";N;s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:23:{s:22:"Quotes for this event:";s:15:"events.event_id";s:10:"Event Date";s:11:"events.date";s:10:"Event Type";s:18:"events.description";s:22:"Details of the event :";s:14:"events.details";s:30:"Time and Duration of the Event";s:11:"events.time";s:5:"Venue";s:17:"events.venue_name";s:13:"Venue Address";s:20:"events.venue_address";s:20:"Type of Act required";s:15:"events.act_type";s:25:"Styles of Music preferred";s:13:"events.styles";s:16:"Special Requests";s:23:"events.special_requests";s:16:"Preferred Budget";s:17:"events.act_budget";s:8:"quote_id";s:15:"quotes.quote_id";s:18:"Date Quote Entered";s:15:"quotes.received";s:33:"Event for which the quote is made";s:15:"quotes.event_id";s:20:"Act making the Quote";s:13:"quotes.act_id";s:11:"Quote value";s:12:"quotes.quote";s:7:"Deposit";s:14:"quotes.deposit";s:8:"Band No.";s:11:"acts.act_id";s:8:"locality";s:11:"acts.region";s:14:"Accepted Quote";s:21:"events.accepted_quote";s:27:"acradb_button_EditthisEvent";s:34:"events.acradb_button_EditthisEvent";s:29:"acradb_button_Acceptthisquote";s:36:"quotes.acradb_button_Acceptthisquote";s:32:"acradb_button_De-selectthisquote";s:39:"quotes.acradb_button_De-selectthisquote";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:7:"seqList";i:0;s:8:"editForm";i:0;}s:16:"formatConditions";a:1:{s:6:"quotes";a:1:{i:0;a:5:{s:10:"field_left";s:14:"Accepted Quote";s:10:"expression";s:2:"==";s:11:"field_right";s:8:"quote_id";s:16:"onpass_classname";s:8:"selected";s:16:"onfail_classname";s:10:"unselected";}}}s:17:"fullRecordActions";a:0:{}}}}s:12:"quotes.quote";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:5:"quote";s:12:"labelVisible";b:1;s:5:"label";s:11:"Quote value";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:14:"quotes.deposit";a:6:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:7:"deposit";s:12:"labelVisible";b:1;s:5:"label";s:7:"Deposit";s:9:"isVisible";b:1;s:4:"type";s:13:"currency_euro";}s:36:"quotes.acradb_button_Acceptthisquote";a:12:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:29:"acradb_button_Acceptthisquote";s:12:"labelVisible";b:0;s:5:"label";s:29:"acradb_button_Acceptthisquote";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:17:"Accept this quote";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:30:"location.href=\'acceptQuote.php";s:28:"dataForPassing_arrayOfFields";a:2:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:11:"Event no. :";s:21:"valueSourceFieldLabel";s:22:"Quotes for this event:";}i:1;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:14:"Accepted Quote";s:21:"valueSourceFieldLabel";s:8:"quote_id";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}s:19:"visibilityCondition";a:1:{i:0;a:3:{s:10:"field_left";s:14:"Accepted Quote";s:10:"expression";s:7:"== NULL";s:11:"field_right";N;}}}s:39:"quotes.acradb_button_De-selectthisquote";a:12:{s:9:"tablename";s:6:"quotes";s:9:"fieldname";s:32:"acradb_button_De-selectthisquote";s:12:"labelVisible";b:0;s:5:"label";s:32:"acradb_button_De-selectthisquote";s:4:"type";s:13:"acradb_button";s:9:"isVisible";b:1;s:12:"defaultValue";s:20:"De-select this quote";s:10:"valueFixed";b:1;s:15:"defaultEnforced";b:1;s:6:"action";a:3:{s:10:"actionType";s:7:"onClick";s:10:"javascript";s:32:"location.href=\'deselectQuote.php";s:28:"dataForPassing_arrayOfFields";a:1:{i:0;a:3:{s:24:"destinationDatasetHandle";s:6:"events";s:21:"destinationFieldLabel";s:11:"Event no. :";s:21:"valueSourceFieldLabel";s:22:"Quotes for this event:";}}}s:25:"viewsInWhichActionApplies";a:1:{i:0;s:14:"sequentialList";}s:19:"visibilityCondition";a:1:{i:0;a:3:{s:10:"field_left";s:14:"Accepted Quote";s:10:"expression";s:2:"==";s:11:"field_right";s:8:"quote_id";}}}}s:24:"compositeFieldDefinition";a:0:{}s:20:"compositeFieldLabels";a:0:{}s:25:"calculatedFieldDefinition";a:0:{}s:18:"sortOrderFieldName";N;s:18:"sortOrderTableName";N;s:14:"sortOrderField";N;s:13:"sortDirection";N;s:10:"tablenames";a:0:{}s:6:"labels";a:0:{}s:14:"fieldsPerTable";a:0:{}s:15:"pivotTableArray";a:0:{}s:15:"pivotTableLabel";a:0:{}s:21:"resultArrayStructured";N;s:30:"resultArrayStructuredTotalSize";N;s:15:"resultArrayFlat";N;s:24:"resultArrayFlatTotalSize";N;s:33:"labelToDataSubarrayCrossreference";N;s:26:"fieldToLabelCrossReference";a:23:{s:22:"Quotes for this event:";s:15:"events.event_id";s:10:"Event Date";s:11:"events.date";s:10:"Event Type";s:18:"events.description";s:22:"Details of the event :";s:14:"events.details";s:30:"Time and Duration of the Event";s:11:"events.time";s:5:"Venue";s:17:"events.venue_name";s:13:"Venue Address";s:20:"events.venue_address";s:20:"Type of Act required";s:15:"events.act_type";s:25:"Styles of Music preferred";s:13:"events.styles";s:16:"Special Requests";s:23:"events.special_requests";s:16:"Preferred Budget";s:17:"events.act_budget";s:8:"quote_id";s:15:"quotes.quote_id";s:18:"Date Quote Entered";s:15:"quotes.received";s:33:"Event for which the quote is made";s:15:"quotes.event_id";s:20:"Act making the Quote";s:13:"quotes.act_id";s:11:"Quote value";s:12:"quotes.quote";s:7:"Deposit";s:14:"quotes.deposit";s:8:"Band No.";s:11:"acts.act_id";s:8:"locality";s:11:"acts.region";s:14:"Accepted Quote";s:21:"events.accepted_quote";s:27:"acradb_button_EditthisEvent";s:34:"events.acradb_button_EditthisEvent";s:29:"acradb_button_Acceptthisquote";s:36:"quotes.acradb_button_Acceptthisquote";s:32:"acradb_button_De-selectthisquote";s:39:"quotes.acradb_button_De-selectthisquote";}s:9:"tableJoin";N;s:24:"joinsCrossReferenceArray";N;s:26:"path_to_dataset_definition";N;s:20:"use_admin_stylesheet";N;s:22:"use_default_stylesheet";N;s:11:"path_to_css";N;s:22:"fieldnamesActionsArray";N;s:27:"sortableGridHighlightColour";N;s:15:"definitionQuery";N;s:19:"whereANDClauseArray";N;s:18:"whereORClauseArray";N;s:16:"hierarchicalView";N;s:20:"CSS_totalFieldHeight";a:2:{s:8:"editForm";i:0;s:7:"seqList";i:0;}s:16:"formatConditions";a:1:{s:6:"quotes";a:1:{i:0;a:5:{s:10:"field_left";s:14:"Accepted Quote";s:10:"expression";s:2:"==";s:11:"field_right";s:8:"quote_id";s:16:"onpass_classname";s:8:"selected";s:16:"onfail_classname";s:10:"unselected";}}}s:17:"fullRecordActions";a:0:{}}' ,
        'current_entry' => 'a:9:{s:8:"quote_id";s:2:"41";s:18:"Date Quote Entered";s:19:"2010-06-04 20:30:22";s:33:"Event for which the quote is made";s:2:"48";s:34:"__dataFromHigherUpInTheHierarchy__";a:1:{s:20:"Act making the Quote";s:2:"37";}s:11:"Quote value";s:3:"231";s:7:"Deposit";s:2:"30";s:29:"acradb_button_Acceptthisquote";s:17:"Accept this quote";s:32:"acradb_button_De-selectthisquote";s:20:"De-select this quote";s:20:"Act making the Quote";a:1:{i:0;a:1:{i:0;a:2:{s:8:"Band No.";s:2:"37";s:8:"locality";s:52:"<region><county><item>Meath</item></county></region>";}}}}' ,
        'expected' => ' unselected'
        );
        foreach($data as $thisData) {
            $result = acra_db_tr_conditionalFormattingClassname(unserialize($thisData['datasetDefinitionHierarchicalView']),unserialize($thisData['current_entry']));
            //p($result);
            $this->assertEqual($result, $thisData['expected']);
        }
    }

    function test_acradb_reportHTML_fromData() {
        $dataset_users = new acradb_tableRelationshipDefinition;
    	$dataset_users->datasetHandle = "users";
    	$dataset_users->database = "eofeasa_autocontact";
    	$dataset_users->datasetCaption = "Registered Users";
    	$dataset_users->recordCaption = "Registered User";
    	$dataset_users->defineField("users.user_id");
    	$dataset_users->overrideFieldType("users.user_id","int(11)");
    	$dataset_users->defineField("users.user_type","Type of user");
    	$dataset_users->overrideFieldType("users.user_type","enum('eventOrganiser','actContact')");

    	$dataset_users->defineField("users.name","Full Name");
    	$dataset_users->overrideFieldType("users.name","varchar(255)");

    	$dataset_users->defineField("users.company","Company (if applicable)");
    	$dataset_users->overrideFieldType("users.company","varchar(255)");

    	$dataset_users->defineField("users.postal_address","Postal Address");
    	$dataset_users->overrideFieldType("users.postal_address","postalAddress");

    	$dataset_users->defineField("users.phone","Phone numbers");
    	$dataset_users->overrideFieldType("users.phone","stringList");

    	$dataset_users->defineField("users.primary_email","Login Email Address");
    	$dataset_users->overrideFieldType("users.primary_email","varchar(255)");

    	$dataset_users->defineField("users.additional_email","Additional Email addresses");
    	$dataset_users->overrideFieldType("users.additional_email","stringList");


    	$dataset_users->defineField("users.mailinglist","Opt in to mailing list");
    	$dataset_users->overrideFieldType("users.mailinglist","boolean");

    	$dataset_users->defineField("users.password","Password");
    	$dataset_users->overrideFieldType("users.password","password");

    	$dataset_users->setPrimaryKeyField("users.user_id");
    	$dataset_users->formValidation("required","users.name");
    	$dataset_users->formValidation("required","users.primary_email");
    	$dataset_users->formValidation("email","users.primary_email");

        $data[] = array(
        'hierarchicalArrayOfData' => Array (
            "0" => Array (
                "user_id" => 38,
                "Type of user" => "actContact",
                "Full Name" => "Test Act Contact",
                "Company (if applicable)" => "Contact Testers",
                "Postal Address" => "<postalAddress><street><item><line>25 Contact Street</line></item></street><town><item><data>Ath na gContaict</data></item></town><county><item><data>Louth</data></item></county></postalAddress>",
                "Phone numbers" => "",
                "Login Email Address" => "contact@contact.com",
                "Additional Email addresses" => "",
                "Opt in to mailing list" => 0,
                "Password" => "2084f1160b2e9debc3744f305895ca82"
            )
        ),
        'datasetDefinition' => $dataset_users,
        'noOfRecordsPerPage' => Null ,
        'startRecord' => Null ,
        'contextPath' => Null ,
        'currentView' => "sequentialList",
        'expected' => "\n<div id=\"dataset_users_primary\" class=\"acradb_reportHolder\">\n  <div id=\"record_users_primary_38\" class=\"acradb_recordHolder\" >\n  <div id=\"users_user_id\">\n     <div id=\"data\"  class=\"int\">\n38\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_user_type\">\n     <div id=\"label\" class=\"label\">Type of user</div>\n     <div id=\"data\"  class=\"enum\">\nactContact\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_name\">\n     <div id=\"label\" class=\"label\">Full Name</div>\n     <div id=\"data\"  class=\"varchar\">\nTest Act Contact\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_company\">\n     <div id=\"label\" class=\"label\">Company (if applicable)</div>\n     <div id=\"data\"  class=\"varchar\">\nContact Testers\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_postal_address\">\n     <div id=\"label\" class=\"label\">Postal Address</div>\n     <div id=\"data\"  class=\"postalAddress\">\n			<div id=\"Postal_Address_display\" style=\"\">\n<p> 25 Contact Street,<br/></p><p> Ath na gContaict</p><p>Louth</p>\n</div>\n\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_primary_email\">\n     <div id=\"label\" class=\"label\">Login Email Address</div>\n     <div id=\"data\"  class=\"varchar\">\ncontact@contact.com\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_mailinglist\">\n     <div id=\"label\" class=\"label\">Opt in to mailing list</div>\n     <div id=\"data\"  class=\"boolean\">\nno\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n  <div id=\"users_password\">\n     <div id=\"label\" class=\"label\">Password</div>\n     <div id=\"data\"  class=\"password\">\n2084f1160b2e9debc3744f305895ca82\n    </div>\n    <div style='clear:both;' class='clear'></div>\n  </div>\n\n\n   </div>\n\n<div style='clear:both;' class='clear'></div>\n\n</div>\n"
        );

        for ( $index = 0; $index < sizeof($data); $index = $index + 1) { //p("index:",$index);
            $result = acradb_reportHTML_fromData(
                $data[$index]['hierarchicalArrayOfData'],
                $data[$index]['datasetDefinition'],
                $data[$index]['noOfRecordsPerPage'],
                $data[$index]['startRecord'],
                $data[$index]['contextPath'],
                $data[$index]['currentView']);
             if($result !== $data[$index]['expected']) {
               echo "<h2 class='test-fail'>".__FUNCTION__."[".$index."]"."</h2>";
               acradisp_compare($result,$data[$index]['expected']);
               p(str_replace("\n","\\n",str_replace('"','\"',$result)));
           }
           $this->assertEqual($result,$data[$index]['expected']);
        }

    }

}
?>